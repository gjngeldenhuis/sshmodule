#	Managed by Puppet

# This is the ssh serverd server system-wide configuration file.  See
# ssh serverd_config(5) for more information.

<% if @port %>Port <%= @port %>
<% end -%>
<% if @addressfamily -%>AddressFamily <%= @addressfamily %>
<% end -%>
<% if @listenaddress -%>
<% @listenaddress.each do |val| -%>
ListenAddress <%= val %>
<% end -%>
<% end -%>
<%# %>
<%# ListenAddress ::   not yet ipv6 supported in puppet module -%>
<%# -%>
Protocol <%= scope['::ssh::server::protocol'] %>
<%# -%>
<% if @serverkeybits %>ServerKeyBits <%= @serverkeybits %>
<% end -%>
<% if @syslogfacility %>SyslogFacility <%= @serverkeybits %>
<% end -%>
<% if @serverloglevel %>LogLevel <%= @serverloglevel %>
<% end -%>
<% if @logingracetime %>LoginGraceTime <%= @logingracetime %> 
<% end -%>
<% if @permitrootlogin %>PermitRootLogin <%= @permitrootlogin %>
<% end -%>
<% if @maxauthtries %>MaxAuthTries <%= @maxauthtries %>
<% end -%>
<% if @maxsessions %>MaxSessions <%= @maxsessions %>
<% end -%>
<% if @rhostsrsaauthentication %>RhostsRSAAuthentication <%= @rhostsrsaauthentication %>
<% end -%>
<% if @hostbasedauthentication %>HostbasedAuthentication <%= @hostbasedauthentication %>
<% end -%>
<% if @ignoreuserknownhosts %>IgnoreUserKnownHosts <%= @ignoreuserknownhosts %>
<% end -%>
<% if @ignorehosts %>IgnoreRhosts <%= @ignorehosts %>
<% end -%>
<% if @passwordauthentication %>PasswordAuthentication <%= @passwordauthentication %>
<% end -%>
<% if @permitemptypasswords %>PermitEmptyPasswords <%= @permitemptypasswords %>
<% end -%>
<% if @passwordauthentication %>PasswordAuthentication <%= @passwordauthentication %>
<% end -%>
<% if @challengeresponseauthentication %>ChallengeResponseAuthentication <%= @challengeresponseauthentication %>
<% end -%>
<% if @kerberosauthentication %>KerberosAuthentication <%= @kerberosauthentication %>
<% end -%>
<% if @kerberosorlocalpasswd %>KerberosOrLocalPasswd <%= @kerberosorlocalpasswd %>
<% end -%>
<% if @kerberosticketcleanup %>KerberosTicketCleanup <%= @kerberosticketcleanup %>
<% end -%>
<% if @kerberosgetafstoken %>KerberosGetAFSToken <%= @kerberosgetafstoken %>
<% end -%>
<% if @kerberosusekuserok %>KerberosUseKuserok <%= @kerberosusekuserok %>
<% end -%>
<% if @gssapiauthentication %>GSSAPIAuthentication <%= @gssapiauthentication %> 
<% end -%>
<% if @gssapicleanupcredentials %>GSSAPICleanupCredentials <%= @gssapicleanupcredentials %>
<% end -%>
<% if @gssapistrictacceptorcheck %>GSSAPIStrictAcceptorCheck <%= @gssapistrictacceptorcheck %>
<% end -%>
<% if @gssapikeyexchange %>GSSAPIKeyExchange <%= @gssapikeyexchange %>
<% end -%>
<% if @usepam %>UsePAM <%= @usepam %>
<% end -%>
<%# %>
# Accept locale-related environment variables
AcceptEnv LANG LC_CTYPE LC_NUMERIC LC_TIME LC_COLLATE LC_MONETARY LC_MESSAGES
AcceptEnv LC_PAPER LC_NAME LC_ADDRESS LC_TELEPHONE LC_MEASUREMENT
AcceptEnv LC_IDENTIFICATION LC_ALL LANGUAGE
AcceptEnv XMODIFIERS
<%# -%>
<% if @allowagentforwarding %>AllowAgentForwarding <%= @allowagentforwarding %>
<% end -%>
<% if @allowtcpforwarding %>AllowTcpForwarding <%= @allowtcpforwarding %>
<% end -%>
<% if @gatewayports %>GatewayPorts <%= @gatewayports %>
<% end -%>
<% if @x11forwarding %>X11Forwarding <%= @x11forwarding %>
<% end -%>
<% if @x11displayoffset %>X11DisplayOffset <%= @x11displayoffset %>
<% end -%>
<% if @x11uselocalhost %>X11UseLocalhost <%= @x11uselocalhost %>
<% end -%>
<% if @printmotd %>PrintMotd <%= @printmotd %>
<% end -%>
<% if @printlastlog %>PrintLastLog <%= @printlastlog %>
<% end -%>
<% if @tcpkeepalive %>TCPKeepAlive <%= @tcpkeepalive %>
<% end -%>
<% if @uselogin %>UseLogin  <%= @uselogin %>
<% end -%>
<% if @useprivilegeseparation %>UsePrivilegeSeparation <%= @useprivilegeseparation %>
<% end -%>
<% if @permituserenvironment %>PermitUserEnvironment <%= @permituserenvironment %>
<% end -%>
<% if @compression %>Compression <%= @compression %>
<% end -%>
<% if @usedns %>UseDNS <%= @usedns %> 
<% end -%>
<%# %>
# override default of no subsystems
# Need more examples of how to use Subsystem before this can be handled in the ssh::server class.
Subsystem	sftp	/usr/libexec/openssh::server/sftp-server
